<!DOCTYPE html>
<html>
    <!-- include A-Frame obviously -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <!-- include ar.js for A-Frame -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="js/aframe-extras.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function(){
            var drone = document.querySelector('#drone_scene');
            console.log('drone: ' + drone.tagName);
            drone.addEventListener('model-loaded',function(){
                console.log('loaded');
                var divS = document.querySelector('#div-loader');
                console.log("div " + divS)
                divS.disabled = true;
                divS.style.visibility = "hidden";
                //divS.remove();
                //alert('loaded');
            })
        })
    </script>

    <style>
        .arjs-loader{
            height: 100%;
            width: 100%;
            position: absolute;
            top: 0;
            left: 0;
            background-color: rgb(0, 32, 53);
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .arjs-loader div{
            text-align: center;
            font-size: 1.25em;
            color: rgb(255, 255, 255);
        }
    </style>

    <body syle='margin : 0px; overflow: hidden;'>

        <div id='div-loader' class='arjs-loader'>
            <div>Loading, please wait...</div>
        </div>
        
        <a-scene embedded arjs='trackingMethod: best; sourceType: webcam; debugUIEnabled: false; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; displayHeight: 960;'
                 vr-mode-ui='enabled: false;'
                 renderer='logarithmicDepthBuffer: true;'>
                 <a-assets>
                    <a-assets-item id='drone' src='https://raw.githubusercontent.com/alexteo/ARjs-3dObject/master/resources/drone.gltf'></a-assets-item>
                </a-assets>
                <a-marker preset='hiro'  smooth='true'>                   
                    <a-entity id='drone_scene' gltf-model="#drone" scale='0.01 0.01 0.01' shadow="cast:false; receive:false" animation-mixer></a-entity>                         
                </a-marker>
            <a-entity camera></a-entity>
        </a-scene>
    </body>
</html>